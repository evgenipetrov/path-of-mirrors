{"openapi":"3.1.0","info":{"title":"Path of Mirrors","description":"Path of Exile economic intelligence platform","contact":{"name":"Path of Mirrors Team","email":"team@pathofmirrors.dev"},"license":{"name":"MIT"},"version":"0.1.0"},"paths":{"/api/v1/{game}/notes/health":{"get":{"tags":["notes"],"summary":"notes context healthcheck","description":"Notes context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"notes_health_api_v1__game__notes_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Notes Health Api V1  Game  Notes Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/notes":{"post":{"tags":["notes"],"summary":"Create a new note","description":"Create a new note.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    note_data: Note creation data.\n    service: Note service dependency.\n\nReturns:\n    NoteResponse: Created note.","operationId":"create_note_api_v1__game__notes_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["notes"],"summary":"List all notes","description":"List all notes for the specified game.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    service: Note service dependency.\n\nReturns:\n    list[NoteResponse]: List of notes.","operationId":"list_notes_api_v1__game__notes_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NoteResponse"},"title":"Response List Notes Api V1  Game  Notes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/notes/{note_id}":{"get":{"tags":["notes"],"summary":"Get a note by ID","description":"Get a note by ID.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    note_id: Note ID.\n    service: Note service dependency.\n\nReturns:\n    NoteResponse: Note.\n\nRaises:\n    HTTPException: 404 if note not found.","operationId":"get_note_api_v1__game__notes__note_id__get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}},{"name":"note_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Note Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notes"],"summary":"Update a note","description":"Update an existing note.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    note_id: Note ID.\n    note_data: Note update data.\n    service: Note service dependency.\n\nReturns:\n    NoteResponse: Updated note.\n\nRaises:\n    HTTPException: 404 if note not found or wrong game context.","operationId":"update_note_api_v1__game__notes__note_id__put","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}},{"name":"note_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Note Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes"],"summary":"Delete a note","description":"Delete a note.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    note_id: Note ID.\n    service: Note service dependency.\n\nRaises:\n    HTTPException: 404 if note not found.","operationId":"delete_note_api_v1__game__notes__note_id__delete","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}},{"name":"note_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Note Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/pob/health":{"get":{"tags":["pob"],"summary":"pob context healthcheck","description":"PoB context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"pob_health_api_v1__game__pob_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Pob Health Api V1  Game  Pob Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/pob/parse":{"post":{"tags":["pob"],"summary":"Parse Pob","description":"Parse Path of Building file or import code into standardized Build object.\n\nThis is a universal endpoint that can be used by any feature:\n- Upgrade Finder: Parse build, extract current items, find better ones\n- Deal Finder: Parse build, identify item requirements, find deals\n- Meta Analyzer: Parse ladder builds, analyze trends\n\nArgs:\n    game: Game context (poe1 or poe2).\n    request: PoB parsing request with either XML or import code\n\nReturns:\n    Standardized Build object with character info and items\n\nRaises:\n    HTTPException 400: If neither pob_xml nor pob_code is provided\n    HTTPException 422: If PoB data is invalid or cannot be parsed\n\nExample:\n    POST /api/v1/poe1/pob/parse\n    {\n        \"pob_code\": \"eNqVW2uT2zYS...\"\n    }\n\n    Response:\n    {\n        \"game\": \"poe1\",\n        \"name\": \"RF Juggernaut\",\n        \"character_class\": \"Marauder\",\n        \"level\": 95,\n        \"items\": {...}\n    }","operationId":"parse_pob_api_v1__game__pob_parse_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PoBParseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__contexts__upstream__domain__schemas__PoBParseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/catalog/health":{"get":{"tags":["catalog"],"summary":"catalog context healthcheck","description":"Catalog context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"catalog_health_api_v1__game__catalog_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Catalog Health Api V1  Game  Catalog Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/items/health":{"get":{"tags":["economy"],"summary":"economy context healthcheck","description":"Economy context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"economy_health_api_v1__game__items_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Economy Health Api V1  Game  Items Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/items/search":{"post":{"tags":["economy"],"summary":"Search Items","description":"Search for items on Trade API.\n\nThis is a direct proxy to the Trade API with simplified filtering.\nIt does NOT perform any ranking or analysis.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    request: Search request parameters\n\nReturns:\n    List of items found","operationId":"search_items_api_v1__game__items_search_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemSearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/builds/parse":{"post":{"tags":["builds"],"summary":"Parse Build","description":"Parse Path of Building file or import code into standardized Build object.\n\nThis endpoint:\n1. Parses PoB XML or import code\n2. Stores the build in Redis session (1-hour TTL)\n3. Returns parsed build data + session_id for subsequent requests\n\nThe session_id can be used with:\n- /api/v1/{game}/builds/analyze - Get stat weights and priorities\n- /api/v1/{game}/items/search - Find item upgrades (client-side composition)\n\nArgs:\n    game: Game context (poe1 or poe2).\n    request: PoB parsing request with either XML or import code\n\nReturns:\n    Parsed Build object with session_id","operationId":"parse_build_api_v1__game__builds_parse_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PoBParseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__contexts__builds__domain__schemas__PoBParseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/builds/analyze":{"post":{"tags":["builds"],"summary":"Analyze Build Endpoint","description":"Analyze build to calculate stat weights and upgrade priorities.\n\nThis endpoint:\n1. Loads build from Redis session\n2. Detects build archetype (life/ES/hybrid)\n3. Calculates recommended stat weights\n4. Suggests upgrade priorities for each slot\n\nUsers can then modify these weights before searching for upgrades.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    request: Analysis request with session_id\n\nReturns:\n    Build analysis with archetype, weights, and priorities","operationId":"analyze_build_endpoint_api_v1__game__builds_analyze_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildAnalysisRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/builds/stats":{"get":{"tags":["builds"],"summary":"Get Canonical Stats","description":"Get canonical stat definitions for a specific game.\n\nThis endpoint provides the single source of truth for valid stat names,\ncategories, and default weights. Use this to populate stat selection UIs\nand ensure consistency between frontend and backend.\n\nArgs:\n    game: Game context (poe1 or poe2)\n\nReturns:\n    List of canonical stat definitions\n\nExample:\n    GET /api/v1/poe1/builds/stats\n\n    Response:\n    {\n        \"game\": \"poe1\",\n        \"stats\": [\n            {\n                \"key\": \"life\",\n                \"display_name\": \"Life\",\n                \"category\": \"defense\",\n                \"default_weight\": 1.0\n            },\n            ...\n        ]\n    }","operationId":"get_canonical_stats_api_v1__game__builds_stats_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatDefinitionsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/builds/health":{"get":{"tags":["builds"],"summary":"builds context healthcheck","description":"Builds context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"builds_health_api_v1__game__builds_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Builds Health Api V1  Game  Builds Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/analysis/rank":{"post":{"tags":["analysis"],"summary":"Rank Items","description":"Rank candidate items against a target item.\n\nArgs:\n    game: Game context (poe1 or poe2).\n    request: Ranking request\n\nReturns:\n    Ranked items with scores","operationId":"rank_items_api_v1__game__analysis_rank_post","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RankRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RankResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/{game}/analysis/health":{"get":{"tags":["analysis"],"summary":"analysis context healthcheck","description":"Analysis context health check.\n\nArgs:\n    game: Game context (poe1 or poe2).\n\nReturns:\n    Health status.","operationId":"analysis_health_api_v1__game__analysis_health_get","parameters":[{"name":"game","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Game"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Analysis Health Api V1  Game  Analysis Health Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Basic liveness check endpoint.\n\nThis endpoint always returns 200 OK if the application is running.\nUse /ready for readiness checks that verify dependencies.\n\nReturns:\n    dict[str, str]: Health status.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}}}},"/ready":{"get":{"tags":["health"],"summary":"Readiness Check","description":"Readiness check endpoint that verifies database and Redis connectivity.\n\nReturns 200 if all dependencies are healthy, 503 otherwise.\n\nArgs:\n    db: Database session dependency.\n\nReturns:\n    dict: Readiness status with individual component health.","operationId":"readiness_check_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BuildAnalysisRequest":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Session ID from /builds/parse endpoint"}},"type":"object","required":["session_id"],"title":"BuildAnalysisRequest","description":"Request schema for build analysis endpoint."},"BuildAnalysisResponse":{"properties":{"archetype":{"type":"string","title":"Archetype","description":"Detected build archetype (e.g., 'life_based', 'es_based')"},"suggested_weights":{"additionalProperties":{"type":"number"},"type":"object","title":"Suggested Weights","description":"Recommended stat weights for this build"},"upgrade_priorities":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Upgrade Priorities","description":"Recommended stats to prioritize for each item slot"},"current_stats":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"null"}]},"type":"object","title":"Current Stats","description":"Current character stats (life, ES, level, etc.)"}},"type":"object","required":["archetype","suggested_weights","upgrade_priorities","current_stats"],"title":"BuildAnalysisResponse","description":"Response schema for build analysis endpoint.\n\nReturns calculated stat weights and build priorities.","example":{"archetype":"life_based","current_stats":{"level":85,"life":5000},"suggested_weights":{"fire_res":0.8,"life":2.0,"movement_speed":1.0},"upgrade_priorities":{"Amulet":["life","fire_res","cold_res"],"Ring 1":["life","fire_res","cold_res"]}}},"Game":{"type":"string","enum":["poe1","poe2"],"title":"Game","description":"Supported Path of Exile games."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ItemSearchRequest":{"properties":{"league":{"type":"string","title":"League"},"item_type":{"type":"string","minLength":1,"title":"Item Type"},"min_life":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Min Life"},"max_price_chaos":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Max Price Chaos"},"limit":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Limit","default":10}},"type":"object","required":["league","item_type"],"title":"ItemSearchRequest","description":"Request to search for items on Trade API.\n\nAttributes:\n    league: League name\n    item_type: Base type name (e.g., \"Jade Amulet\")\n    min_life: Minimum life requirement\n    max_price_chaos: Maximum price in chaos orbs\n    limit: Maximum number of results to return"},"ItemSearchResponse":{"properties":{"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"ItemSearchResponse","description":"Response with item search results.\n\nAttributes:\n    items: List of raw item data from Trade API\n    total: Total number of results found"},"NoteCreate":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title","description":"Note title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Note content"}},"type":"object","required":["title"],"title":"NoteCreate","description":"Schema for creating a new note."},"NoteResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"title":{"type":"string","title":"Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"game_context":{"$ref":"#/components/schemas/Game"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","title","content","game_context","created_at","updated_at"],"title":"NoteResponse","description":"Schema for note responses."},"NoteUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title","description":"Note title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Note content"}},"type":"object","title":"NoteUpdate","description":"Schema for updating an existing note."},"PoBParseRequest":{"properties":{"pob_xml":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Pob Xml","description":"Raw Path of Building XML content"},"pob_code":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Pob Code","description":"Path of Building import code (base64 encoded)"}},"type":"object","title":"PoBParseRequest","description":"Request schema for PoB parsing endpoint.\n\nAccepts either:\n- pob_xml: Raw XML string from .xml file\n- pob_code: Base64+zlib import code (the long string users paste)\n\nOne of these fields must be provided.\nGame context is provided via URL path parameter."},"RankRequest":{"properties":{"target_item":{"additionalProperties":true,"type":"object","title":"Target Item"},"candidates":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Candidates"},"stat_weights":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Stat Weights"}},"type":"object","required":["target_item","candidates"],"title":"RankRequest","description":"Request to rank candidate items against a target item.\n\nAttributes:\n    target_item: The item being upgraded (PoB format)\n    candidates: List of candidate items (PoB or Trade API format)\n    stat_weights: Optional weights for scoring"},"RankResponse":{"properties":{"ranked_items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Ranked Items"}},"type":"object","required":["ranked_items"],"title":"RankResponse","description":"Response with ranked items.\n\nAttributes:\n    ranked_items: List of items with scores, sorted by score"},"StatDefinition":{"properties":{"key":{"type":"string","title":"Key","description":"Canonical stat key (e.g., 'life', 'fire_res', 'energy_shield')"},"display_name":{"type":"string","title":"Display Name","description":"Human-readable display name"},"category":{"type":"string","title":"Category","description":"Stat category (e.g., 'defense', 'resistance', 'damage', 'utility')"},"default_weight":{"type":"number","title":"Default Weight","description":"Default weight for this stat"}},"type":"object","required":["key","display_name","category","default_weight"],"title":"StatDefinition","description":"Canonical stat definition.\n\nRepresents a single stat that can be weighted and tracked.","example":{"category":"defense","default_weight":1.0,"display_name":"Life","key":"life"}},"StatDefinitionsResponse":{"properties":{"game":{"$ref":"#/components/schemas/Game","description":"Game context (poe1 or poe2)"},"stats":{"items":{"$ref":"#/components/schemas/StatDefinition"},"type":"array","title":"Stats","description":"List of canonical stat definitions"}},"type":"object","required":["game","stats"],"title":"StatDefinitionsResponse","description":"Response schema for stat definitions endpoint.\n\nReturns all canonical stat definitions for a specific game.","example":{"game":"poe1","stats":[{"category":"defense","default_weight":1.0,"display_name":"Life","key":"life"},{"category":"resistance","default_weight":0.6,"display_name":"Fire Resistance","key":"fire_res"}]}},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"src__contexts__builds__domain__schemas__PoBParseResponse":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Temporary session ID for this build (valid for 1 hour)"},"game":{"$ref":"#/components/schemas/Game"},"name":{"type":"string","title":"Name"},"character_class":{"type":"string","title":"Character Class"},"level":{"type":"integer","title":"Level"},"ascendancy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ascendancy"},"league":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"League"},"life":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Life"},"energy_shield":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Energy Shield"},"mana":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Mana"},"armour":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Armour"},"evasion":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Evasion"},"items":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Items"},"passive_tree":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Passive Tree"},"skills":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Skills"},"source":{"type":"string","title":"Source","default":"pob"},"derived_stats":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Derived Stats","description":"Optional stats derived from headless PoB (EHP, resists, DPS, etc.)"}},"type":"object","required":["session_id","game","name","character_class","level"],"title":"PoBParseResponse","description":"Response schema for PoB parsing endpoint.\n\nReturns a standardized Build representation with:\n- Character info (class, level, ascendancy)\n- Items (slot-mapped equipment)\n- Build metadata (name, source)\n- Session ID for subsequent requests","example":{"ascendancy":"Juggernaut","character_class":"Marauder","game":"poe1","items":{"Weapon 1":{"base_type":"Shadow Sceptre","name":"The Dark Seer","rarity":"UNIQUE"}},"level":95,"name":"RF Juggernaut","source":"pob"}},"src__contexts__upstream__domain__schemas__PoBParseResponse":{"properties":{"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Temporary session ID for this build (valid for 1 hour). Only provided by /builds/parse endpoint."},"game":{"$ref":"#/components/schemas/Game"},"name":{"type":"string","title":"Name"},"character_class":{"type":"string","title":"Character Class"},"level":{"type":"integer","title":"Level"},"ascendancy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ascendancy"},"league":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"League"},"life":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Life"},"energy_shield":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Energy Shield"},"mana":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Mana"},"armour":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Armour"},"evasion":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Evasion"},"items":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Items"},"passive_tree":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Passive Tree"},"skills":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Skills"},"source":{"type":"string","title":"Source","default":"pob"}},"type":"object","required":["game","name","character_class","level"],"title":"PoBParseResponse","description":"Response schema for PoB parsing endpoint.\n\nReturns a standardized Build representation with:\n- Character info (class, level, ascendancy)\n- Items (slot-mapped equipment)\n- Build metadata (name, source)\n- Optional session ID for subsequent requests (only from /builds/parse)","example":{"ascendancy":"Juggernaut","character_class":"Marauder","game":"poe1","items":{"Weapon 1":{"base_type":"Shadow Sceptre","name":"The Dark Seer","rarity":"UNIQUE"}},"level":95,"name":"RF Juggernaut","source":"pob"}}}}}